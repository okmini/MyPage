# ç®€çº¦å¯¼èˆªé¡µé¢ï¼ˆåŠ¨æ€ä¸ªäººä¸»é¡µï¼Œæ— éœ€æœåŠ¡å™¨ï¼‰

ä¸€ä¸ªç®€æ´ã€ç°ä»£çš„ç½‘å€å¯¼èˆªé¡µé¢ï¼ŒåŸºäº Cloudflare Workers å’Œ D1 æ•°æ®åº“æ„å»ºï¼Œæ”¯æŒåŠ¨æ€ä¿®æ”¹ï¼Œæ— éœ€æœåŠ¡å™¨ã€‚æ”¯æŒåˆ†ç»„ç®¡ç†ã€ç»„é“¾æ¥æ’åºã€é“¾æ¥ç®¡ç†ç­‰ã€‚

## åœ¨çº¿æ¼”ç¤º

ğŸŒ [åœ¨çº¿é¢„è§ˆ](https://my.yvyan.top/)

## ç•Œé¢é¢„è§ˆ

![ç•Œé¢é¢„è§ˆ](https://raw.githubusercontent.com/yvyan/MyPage/main/image.png)

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¯ ç®€æ´ä¼˜é›…çš„ç•Œé¢è®¾è®¡
- ğŸ“‚ æ”¯æŒé“¾æ¥åˆ†ç»„ç®¡ç†
- ğŸ” é›†æˆå¤šå¼•æ“æœç´¢åŠŸèƒ½ï¼ˆç™¾åº¦ã€Googleã€Bingï¼‰
- ğŸ”’ æ”¯æŒç§å¯†åˆ†ç»„
- ğŸ¨ è‡ªåŠ¨è·å–ç½‘ç«™å›¾æ ‡å’Œæè¿°
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- âš¡ åŸºäº Cloudflare Workersï¼Œå¿«é€Ÿä¸”å¯é 
- ğŸ”‘ ç®€å•çš„ç®¡ç†å‘˜éªŒè¯æœºåˆ¶

## éƒ¨ç½²æ•™ç¨‹

### 1. åˆ›å»º Worker

1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com)
2. ç‚¹å‡»å·¦ä¾§èœå•çš„ "Workers & Pages"
3. ç‚¹å‡» "Create application"
4. é€‰æ‹© "Create Worker"
5. ä¸ºä½ çš„ Worker èµ·ä¸€ä¸ªåå­—ï¼Œç‚¹å‡» "Deploy"
6. éƒ¨ç½²å®Œæˆåï¼Œç‚¹å‡» "Edit code"

### 2. åˆ›å»º D1 æ•°æ®åº“

1. åœ¨ Cloudflare Dashboard å·¦ä¾§èœå•ä¸­ç‚¹å‡» "D1"
2. ç‚¹å‡» "Create database"
3. ä¸ºæ•°æ®åº“èµ·ä¸€ä¸ªåå­—ï¼ˆå¦‚ï¼šnav-dbï¼‰ï¼Œç‚¹å‡» "Create"
4. åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡»æ•°æ®åº“åç§°è¿›å…¥è¯¦æƒ…é¡µ
5. ç‚¹å‡» "Quick query" æŒ‰é’®
6. å¤åˆ¶ `schema.sql` ä¸­çš„å†…å®¹åˆ°æŸ¥è¯¢æ¡†ï¼Œç‚¹å‡» "Run query" åˆ›å»ºè¡¨

### 3. ç»‘å®šæ•°æ®åº“

1. å›åˆ° Worker é¡µé¢
2. ç‚¹å‡» "Settings" æ ‡ç­¾
3. åœ¨ "D1 database bindings" éƒ¨åˆ†
4. ç‚¹å‡» "Add binding"
5. è®¾ç½®å˜é‡åä¸º `DB`
6. é€‰æ‹©åˆšæ‰åˆ›å»ºçš„æ•°æ®åº“
7. ç‚¹å‡» "Save binding"

### 4. é…ç½®ç¯å¢ƒå˜é‡

1. åœ¨ Worker çš„ "Settings" æ ‡ç­¾é¡µä¸­
2. æ‰¾åˆ° "Environment Variables" éƒ¨åˆ†
3. æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š
   - `ADMIN_PASSWORD`: è®¾ç½®ä½ çš„ç®¡ç†å‘˜å¯†ç 
   - `JWT_SECRET`: è®¾ç½®ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ä½œä¸º JWT å¯†é’¥

### 5. éƒ¨ç½²ä»£ç 

1. å›åˆ° Worker çš„ "Code" æ ‡ç­¾é¡µ
2. å°† `src/index.js` çš„å†…å®¹å¤åˆ¶åˆ°ç¼–è¾‘å™¨ä¸­
3. ç‚¹å‡» "Save and deploy"

### 6. éƒ¨ç½²å‰ç«¯æ–‡ä»¶

1. åœ¨ GitHub ä¸Š fork [æœ¬ä»“åº“](https://github.com/yvyan/MyPage)

3. åœ¨ Cloudflare Dashboard ä¸­ï¼š
   - ç‚¹å‡»å·¦ä¾§èœå•çš„ "Pages"
   - ç‚¹å‡» "Create a project"
   - é€‰æ‹© "Connect to Git"
   - é€‰æ‹©ä½  fork çš„ä»“åº“
   - è®¾ç½®æ„å»ºé…ç½®ï¼š
     - æ„å»ºå‘½ä»¤ï¼šç•™ç©º
     - æ„å»ºè¾“å‡ºç›®å½•ï¼šstatic
   - ç‚¹å‡» "Save and Deploy"

4. éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª `*.pages.dev` çš„åŸŸå

5. é…ç½® API åœ°å€ï¼š
   - åœ¨ä½  fork çš„ä»“åº“ä¸­æ‰¾åˆ° `static/api.js` æ–‡ä»¶
   - ä¿®æ”¹ç¬¬ä¸€è¡Œçš„ API åœ°å€ä¸ºä½ çš„ Worker åœ°å€ï¼š
     ```javascript
     const API_BASE_URL = 'https://your-worker.your-subdomain.workers.dev/api';
     ```
   - æäº¤ä¿®æ”¹ï¼ŒPages ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²

6. ï¼ˆå¯é€‰ï¼‰è‡ªå®šä¹‰åŸŸåï¼š
   - åœ¨ Pages é¡¹ç›®çš„ "Custom domains" ä¸­
   - ç‚¹å‡» "Set up a custom domain"
   - æŒ‰ç…§æç¤ºé…ç½®ä½ çš„åŸŸå

## ä½¿ç”¨è¯´æ˜

### ç®¡ç†å‘˜åŠŸèƒ½

1. ç‚¹å‡»å³ä¸Šè§’çš„"ç®¡ç†å‘˜ç™»å½•"
2. è¾“å…¥è®¾ç½®çš„ç®¡ç†å‘˜å¯†ç 
3. ç™»å½•åå¯ä»¥ï¼š
   - æ·»åŠ /ç¼–è¾‘/åˆ é™¤åˆ†ç»„
   - æ·»åŠ /ç¼–è¾‘/åˆ é™¤é“¾æ¥
   - è®¾ç½®ç§å¯†åˆ†ç»„
   - è°ƒæ•´åˆ†ç»„å’Œé“¾æ¥é¡ºåº

### é“¾æ¥ç®¡ç†

- æ·»åŠ é“¾æ¥æ—¶ä¼šè‡ªåŠ¨è·å–ç½‘ç«™æ ‡é¢˜å’Œæè¿°
- æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡åœ°å€
- å¯ä»¥æ‹–åŠ¨è°ƒæ•´é“¾æ¥é¡ºåº
- æ”¯æŒæŒ‰åˆ†ç»„ç»„ç»‡é“¾æ¥

### æœç´¢åŠŸèƒ½

- æ”¯æŒåœ¨æœç´¢æ¡†ç›´æ¥æœç´¢
- å¯ä»¥åˆ‡æ¢æœç´¢å¼•æ“ï¼ˆç™¾åº¦/Google/Bingï¼‰
- æœç´¢å¼•æ“é€‰æ‹©ä¼šè¢«ä¿å­˜

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ schema.sql        # æ•°æ®åº“ç»“æ„
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.js      # Worker åç«¯ä»£ç 
â””â”€â”€ static/           # å‰ç«¯æ–‡ä»¶ç›®å½•
     â”œâ”€â”€ index.html    # å‰ç«¯é¡µé¢
     â”œâ”€â”€ app.js        # å‰ç«¯é€»è¾‘
     â”œâ”€â”€ api.js        # API è°ƒç”¨å°è£…
     â””â”€â”€ styles.css    # æ ·å¼æ–‡ä»¶
```

## æŠ€æœ¯æ ˆ

- åç«¯ï¼šCloudflare Workers + D1 æ•°æ®åº“
- å‰ç«¯ï¼šåŸç”Ÿ JavaScript + CSS
- å›¾æ ‡ï¼šFont Awesome
- è®¤è¯ï¼šç®€å•çš„ JWT å®ç°

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## ä½œè€…

[Yvyan](https://github.com/yvyan)

## é¸£è°¢

- [Cloudflare Workers](https://workers.cloudflare.com/)
- [Font Awesome](https://fontawesome.com/)
- [DuckDuckGo](https://duckduckgo.com/) (å›¾æ ‡ API) 
- ä»£ç ç”±Cursorç¼–å†™ï¼Œä»å­˜åœ¨å°‘é‡bugæœªè§£å†³ï¼Œæ¬¢è¿å¤§å®¶æå‡ºé—®é¢˜å’Œå»ºè®®
- æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…